<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <mat-form-field class="form-field" appearance="fill">
    <mat-label>Email</mat-label>
    <input class="form-control" matInput formControlName="email" />
  </mat-form-field>

  <mat-form-field class="form-field" appearance="fill">
    <mat-label>Nom d'utilisateur</mat-label>
    <input class="form-control" matInput formControlName="pseudo" />
  </mat-form-field>

  <mat-form-field class="form-field" appearance="fill">
    <mat-label>Mot de passe</mat-label>
    <input
      class="form-control"
      matInput
      formControlName="password"
      [type]="hide ? 'password' : 'text'"
    />
    <button
      type="button"
      mat-icon-button
      matSuffix
      (click)="hide = !hide"
      [attr.aria-label]="'Hide password'"
      [attr.aria-pressed]="hide"
    >
      <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
    </button>
  </mat-form-field>

  <div class="actions">
    <button class="buttonLogin" type="submit" [disabled]="!registerForm.valid">
      Enregistrement
    </button>
    @if(errorMessage()) {
      <div class="error-message">
        {{ errorMessage() }}
      </div>
    }
  </div>
  <p><a (click)="goLogin()">Déjà inscrit ? </a></p>

</form>
